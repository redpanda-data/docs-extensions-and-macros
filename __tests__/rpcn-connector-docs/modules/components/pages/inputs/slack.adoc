= slack
// tag::single-source[]
:type: input
:status: experimental
:categories: []
:description: Connects to Slack using https://api.slack.com/apis/socket-mode[^Socket Mode]. This allows for receiving events, interactions and slash commands. Each message emitted from this input has a @type metadata of the event type &quot;events_api&quot;, &quot;interactions&quot; or &quot;slash_commands&quot;.

component_type_dropdown::[]

// This content is autogenerated. Do not edit manually. To override descriptions or summaries, use the doc-tools CLI with the --overrides option.




[tabs]
======
Common::
+
--
```yaml
input:
  label: ""
  slack:
    app_token: "" # No default (required)
    bot_token: "" # No default (required)
    auto_replay_nacks: true
```
--
Advanced::
+
--
```yaml
input:
  label: ""
  slack:
    app_token: "" # No default (required)
    bot_token: "" # No default (required)
    auto_replay_nacks: true
```
--
======

Connects to Slack using https://api.slack.com/apis/socket-mode[^Socket Mode]. This allows for receiving events, interactions and slash commands. Each message emitted from this input has a @type metadata of the event type "events_api", "interactions" or "slash_commands".

// This content is autogenerated. Do not edit manually. To override descriptions, use the doc-tools CLI with the --overrides option.

== Fields

=== `app_token`

The Slack App token to use.

*Type*: `string`

=== `auto_replay_nacks`

Whether messages that are rejected (nacked) at the output level should be automatically replayed indefinitely, eventually resulting in back pressure if the cause of the rejections is persistent. If set to `false` these messages will instead be deleted. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data can be discarded immediately upon consumption and mutation.

*Type*: `bool`

*Default*: `true`

=== `bot_token`

The Slack Bot User OAuth token to use.

*Type*: `string`



// This content is autogenerated. Do not edit manually.

== Examples

=== Echo Slackbot

A slackbot that echo messages from other users

[source,yaml]
----
input:
  slack:
    app_token: "${APP_TOKEN:xapp-demo}"
    bot_token: "${BOT_TOKEN:xoxb-demo}"
pipeline:
  processors:
    - mutation: |
        # ignore hidden or non message events
        if this.event.type != "message" || (this.event.hidden | false) {
          root = deleted()
        }
        # Don't respond to our own messages
        if this.authorizations.any(auth -> auth.user_id == this.event.user) {
          root = deleted()
        }
output:
  slack_post:
    bot_token: "${BOT_TOKEN:xoxb-demo}"
    channel_id: "${!this.event.channel}"
    thread_ts: "${!this.event.ts}"
    text: "ECHO: ${!this.event.text}"
----


